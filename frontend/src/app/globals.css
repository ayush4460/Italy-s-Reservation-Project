@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  /* Radius mapping */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
  
  /* Font mapping */
  --font-sans: var(--font-montserrat), ui-sans-serif, system-ui, sans-serif;
  --font-heading: var(--font-poppins), ui-sans-serif, system-ui, sans-serif;
}

/* strict B&W variables */
:root {
  --background: #ffffff;
  --foreground: #000000;
  
  --card: #ffffff;
  --card-foreground: #000000;
  
  --popover: #ffffff;
  --popover-foreground: #000000;
  
  --primary: #000000;
  --primary-foreground: #ffffff;
  
  --secondary: #ffffff;
  --secondary-foreground: #000000;
  
  --muted: #f3f4f6; /* gray-100 */
  --muted-foreground: #6b7280; /* gray-500 */
  
  --accent: #f3f4f6; /* gray-100 */
  --accent-foreground: #000000;
  
  --destructive: #ef4444; /* Keep red for destructive mainly, or make it black/white if STRICTLY required, but usually semantic colors are needed. User said "Remove ALL instances of text-red-*" but destructive might be an exception for semantic meaning? User said "Replace with black/white/gray system". Let's try to stick to strict B&W or Gray for now, maybe dark gray for error? Or just keep it functionally distinct. User said "Error messages". Let's stick to standard error colors for now but minimize usage, or use black/white. Actually user said "Remove ALL instances of bg-red-*". Let's map destructive to Black/White too or a distinct gray? Let's use standard red for 'destructive' semantic but style it minimally, OR better: use Black for destructive in light mode? No, that confuses with primary. Let's use a Dark Gray or stick to Red but controlled. User said "Remove random Tailwind colors". I will use a Grayscale for destructive or a very sharp Black/White contrast.
  Actually, let's use #000000 for destructive background but maybe with a border?
  For now, I'll keep destructive as a "Error" state, maybe high contrast.
  Let's defaults to standard but we will override usage.
  */
  --destructive: #000000; /* Strict B&W - Errors can be bold black with white text or similar */
  --destructive-foreground: #ffffff;

  --border: #d1d5db; /* gray-300 */
  --input: #d1d5db; /* gray-300 */
  --ring: #000000;
  
  --radius: 0.5rem;
}

.dark {
  --background: #000000;
  --foreground: #ffffff;
  
  --card: #171717; /* neutral-900 */
  --card-foreground: #ffffff;
  
  --popover: #171717;
  --popover-foreground: #ffffff;
  
  --primary: #ffffff;
  --primary-foreground: #000000;
  
  --secondary: #000000;
  --secondary-foreground: #ffffff;
  
  --muted: #262626; /* neutral-800 */
  --muted-foreground: #d1d5db; /* gray-300 */
  
  --accent: #262626; /* neutral-800 */
  --accent-foreground: #ffffff;
  
  --destructive: #ffffff;
  --destructive-foreground: #000000;
  
  --border: #374151; /* gray-700 */
  --input: #374151; /* gray-700 */
  --ring: #ffffff;
}

/* Fix native date picker icon in dark mode */
.dark input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
}

@layer base {
  * {
    @apply border-border transition-colors duration-200;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-montserrat), ui-sans-serif, system-ui, sans-serif;
  }
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-poppins), ui-sans-serif, system-ui, sans-serif;
  }
}

/* Loader Styles - Restored Pizza Colors */
.loader {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 8px solid #d97706; /* Crust */
  box-sizing: border-box;
  --c: no-repeat radial-gradient(farthest-side, #ef4444 94%, #0000); /* Pepperoni */
  --b: no-repeat radial-gradient(farthest-side, #166534 94%, #0000); /* Veggies */
  background:
    var(--c) 11px 15px,
    var(--b) 6px 15px,    
    var(--c) 35px 23px,
    var(--b) 29px 15px,    
    var(--c) 11px 46px,
    var(--b) 11px 34px,    
    var(--c) 36px 0px,
    var(--b) 50px 31px,
    var(--c) 47px 43px,
    var(--b) 31px 48px,    
    #fcd34d; /* Cheese */
  background-size: 15px 15px, 6px 6px;
  animation: l4 3s infinite;
}

@keyframes l4 {
  0%     { -webkit-mask: conic-gradient(#0000 0, #000 0); mask: conic-gradient(#0000 0, #000 0); }
  16.67% { -webkit-mask: conic-gradient(#0000 60deg, #000 0); mask: conic-gradient(#0000 60deg, #000 0); }
  33.33% { -webkit-mask: conic-gradient(#0000 120deg, #000 0); mask: conic-gradient(#0000 120deg, #000 0); }
  50%    { -webkit-mask: conic-gradient(#0000 180deg, #000 0); mask: conic-gradient(#0000 180deg, #000 0); }
  66.67% { -webkit-mask: conic-gradient(#0000 240deg, #000 0); mask: conic-gradient(#0000 240deg, #000 0); }
  83.33% { -webkit-mask: conic-gradient(#0000 300deg, #000 0); mask: conic-gradient(#0000 300deg, #000 0); }
  100%   { -webkit-mask: conic-gradient(#0000 360deg, #000 0); mask: conic-gradient(#0000 360deg, #000 0); }
}
